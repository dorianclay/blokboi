import numpy as np
import json
from pathlib import Path
import argparse
import os


def main(**kwargs):
    demomap = [
        # fmt: off
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['p', '3'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['P', 'R'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['y', '1'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['b', '6'],['g', '8'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['y', '3'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['r', '2'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['o', '9'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        # fmt: on
    ]

    stacking = [
        # fmt: off
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['p', '8'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['P', 'L'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['r', '5'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        # fmt: on
    ]

    stacking_diag = [
        # fmt: off
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['p', '8'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['P', 'L'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['r', '5'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        # fmt: on
    ]

    crates = [
        # fmt: off
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['r', '6'],['p', '4'],['o', '2'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['r', '1'],['o', '1'],['b', '1'],['o', '1'],['P', 'R'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['g', '1'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['o', '4'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['g', '3'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['y', '6'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['b', '1'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        # fmt: on
    ]

    sparse = [
        # fmt: off
        [['@', 'X'],['@', 'X'],['r', '5'],['P', 'R'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['b', '8'],['o', '2'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['g', '8'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['o', '3'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        [['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['@', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X'],['.', 'X']],
        # fmt: on
    ]

    objectives = [
        {
            "id": "demo",
            "objective": "Put the blue block on top of the 9 block.",
            "coordinates": [[7, 1], [19, 4]],
            "relationship": "on top",
            "features": [[1, 0], [0, 1]],
            "ground truth": "",
        },
        {
            "id": "stacking1",
            "objective": "Put the purple block above the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "above",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking2",
            "objective": "Put the purple block below the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "below",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking3",
            "objective": "Put the purple block under the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "under",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking4",
            "objective": "Put the purple block on top of the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "on top",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking5",
            "objective": "Put the purple block beneath the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "beneath",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking6",
            "objective": "Put the purple block to the right of the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "right",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking7",
            "objective": "Put the purple block to the left of the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "left",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking8",
            "objective": "Take the purple block off the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "off",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking9",
            "objective": "Put the purple block to the side of the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "side",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "stacking10",
            "objective": "Put the purple block diagonal to the red block.",
            "coordinates": [[2, 4], [14, 4]],
            "relationship": "diagonal",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "crates",
            "objective": "Put the yellow block next to purple block.",
            "coordinates": [[16, 7], [6, 8]],
            "relationship": "side",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
        {
            "id": "sparse",
            "objective": "Put the green block below the red block.",
            "coordinates": [[10, 2], [0, 2]],
            "relationship": "below",
            "features": [[1, 0], [1, 0]],
            "ground truth": "",
        },
    ]

    jsondir = Path(kwargs["path"]) / "toy" / "objectives"
    npydir = Path(kwargs["path"]) / "toy" / "scenes"

    if not os.path.exists(jsondir):
        os.makedirs(jsondir)
    if not os.path.exists(npydir):
        os.makedirs(npydir)

    maps = [
        demomap,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking,
        stacking_diag,
        crates,
        sparse,
    ]

    for scene in range(len(objectives)):
        with open(jsondir / f"objective_{scene:05d}.json", "w") as file:
            json.dump(objectives[scene], file)

        maparr = np.array(maps[scene])
        np.save(npydir / f"scene_{scene:05d}.npy", maparr)


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="Generate the toy examples.")
    parser.add_argument(
        "--path",
        default="data",
        type=str,
        help="The location of the data directory (default: data).",
    )
    args = parser.parse_args()
    main(**vars(args))
